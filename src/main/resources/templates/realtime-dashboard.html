<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>실시간 대시보드 - Search Insights</title>
  
  <!-- CSS 파일들 -->
  <link rel="stylesheet" th:href="@{/css/dashboard-main.css}">
  <link rel="stylesheet" th:href="@{/css/dashboard-dark-theme.css}" id="theme-stylesheet">
  <link rel="stylesheet" th:href="@{/css/dashboard-components.css}">
  <link rel="stylesheet" th:href="@{/css/dashboard-components-patch.css}">
  <link rel="stylesheet" th:href="@{/css/dashboard-light-theme-patch.css}">
</head>
<body>
<div class="container">
  <div class="header-wrapper">
    <h1>😎 <span data-i18n="pageTitle">실시간 대시보드</span></h1>
    <div class="header-controls">
      <select class="language-select" onchange="changeLanguage(this.value)" title="언어 변경">
        <option value="ko">🇰🇷 한국어</option>
        <option value="en">🇺🇸 English</option>
        <option value="zh">🇨🇳 中文</option>
      </select>
      <button class="theme-toggle" onclick="toggleTheme()" title="테마 변경">
        <span class="theme-icon">🌙</span>
      </button>
    </div>
  </div>

  <!-- 메인 탭 -->
  <div class="main-tabs">
    <div class="main-tab active" onclick="showMainTab('today')" data-i18n="mainTabs.today">🌞 오늘 전체</div>
    <div class="main-tab" onclick="showMainTab('last30min')" data-i18n="mainTabs.last30min">⚡ 최근 30분</div>
    <div class="main-tab" onclick="showMainTab('custom-date')" data-i18n="mainTabs.customDate">📆 날짜 지정</div>
    <div class="main-tab" onclick="showMainTab('comparison')" data-i18n="mainTabs.comparison">⚔️ 기간 비교</div>
  </div>

  <!-- 오늘 전체 탭 컨텐츠 -->
  <div id="today-content" class="tab-content active">
    <div class="dashboard-box">
      <div style="display: flex; justify-content: space-between;">
        <!-- 왼쪽 구역 (빨간색 부분) -->
        <div style="width: 22%;">
          <div class="dashboard-title" data-i18n="dashboardTitles.todayActiveUsers">🔎 오늘 전체 활성 사용자</div>
          <div class="active-users" id="today-active-users">0</div>
        </div>

        <!-- 오른쪽 구역 (주황색 부분) -->
        <div style="width: 74%;">
          <div class="dashboard-title" style="margin-top: 0;" data-i18n="dashboardTitles.todayPageviews">🔢 오늘 전체 조회수</div>
          <div class="active-users" id="today-total-pageviews">0</div>
        </div>
      </div>

      <div class="update-time" id="today-update-time"><span data-i18n="labels.lastUpdate">마지막 업데이트</span>: -</div>
    </div>

    <!-- 서브 탭 (오늘 전체) -->
    <div class="sub-tabs">
      <div class="sub-tab active" onclick="showSubTab('today', 'full')" data-i18n="subTabs.allTitles">📊 전체 제목</div>
      <div class="sub-tab" onclick="showSubTab('today', 'prefix1')" data-i18n="subTabs.prefix1">1️⃣ 접두어 (1단어)</div>
      <div class="sub-tab" onclick="showSubTab('today', 'prefix2')" data-i18n="subTabs.prefix2">2️⃣ 접두어 (2단어)</div>
      <div class="sub-tab" onclick="showSubTab('today', 'prefix3')" data-i18n="subTabs.prefix3">3️⃣ 접두어 (3단어)</div>
      <div class="sub-tab" onclick="showSubTab('today', 'category')" data-i18n="subTabs.byCategory">📑 카테고리별</div>
      <button class="sync-button" onclick="syncWordPressCategories(false)">
        <span class="sync-button-icon">🔄</span> <span data-i18n="buttons.syncCategories">카테고리 추가 동기화</span>
      </button>
      <button class="sync-button full-sync-button" onclick="syncWordPressCategories(true)">
        <span class="sync-button-icon">🔁</span> <span data-i18n="buttons.resetCategories">카테고리 전체 초기화</span>
      </button>
    </div>

    <!-- 전체 제목 테이블 (오늘) -->
    <div id="today-full-content" class="sub-tab-content active">
      <div class="dashboard-box">
        <div style="display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 10px; padding-top: 3px;">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByTitleToday">📈 페이지 제목별 조회수 (오늘)</div>
          <div class="category-filter-container" id="today-full-category-filter">
            <span class="category-label" data-i18n="labels.categorySelect">카테고리 선택:</span>
            <select class="category-dropdown" id="today-full-category-select" onchange="filterByCategoryInFullTab('today', this.value)">
              <option value="" data-i18n="labels.allCategories">전체 카테고리</option>
            </select>
          </div>
        </div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.pageTitle">페이지 제목</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="today-page-title-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 1단어 테이블 (오늘) -->
    <div id="today-prefix1-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix1">🔤 접두어별 조회수 (1단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="today-prefix1-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 2단어 테이블 (오늘) -->
    <div id="today-prefix2-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix2">🔤 접두어별 조회수 (2단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="today-prefix2-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 3단어 테이블 (오늘) -->
    <div id="today-prefix3-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix3">🔤 접두어별 조회수 (3단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="today-prefix3-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <div id="today-category-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div id="sync-banner-today" class="sync-banner">🔄 아직 동기화된 카테고리 데이터가 없어요! 동기화 버튼을 눌러주세요!</div>
        <div class="dashboard-title">📑 카테고리별 조회수 (오늘)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th>카테고리</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="today-category-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

  </div>


  <!-- 최근 30분 탭 컨텐츠 -->
  <div id="last30min-content" class="tab-content">
    <div class="dashboard-box">
      <div style="display: flex; justify-content: space-between;">
        <!-- 왼쪽 구역 -->
        <div style="width: 22%;">
          <div class="dashboard-title" data-i18n="dashboardTitles.last30minActiveUsers">🔥 최근 30분 활성 사용자</div>
          <div class="active-users" id="last30min-active-users">0</div>
        </div>

        <!-- 오른쪽 구역 -->
        <div style="width: 74%;">
          <div class="dashboard-title" style="margin-top: 0;" data-i18n="dashboardTitles.last30minPageviews">🔢 최근 30분 전체 조회수</div>
          <div class="active-users" id="last30min-total-pageviews">0</div>
        </div>
      </div>

      <div class="update-time" id="last30min-update-time"><span data-i18n="labels.lastUpdate">마지막 업데이트</span>: -</div>
    </div>

    <!-- 서브 탭 (최근 30분) -->
    <div class="sub-tabs">
      <div class="sub-tab active" onclick="showSubTab('last30min', 'full')" data-i18n="subTabs.allTitles">📊 전체 제목</div>
      <div class="sub-tab" onclick="showSubTab('last30min', 'prefix1')" data-i18n="subTabs.prefix1">1️⃣ 접두어 (1단어)</div>
      <div class="sub-tab" onclick="showSubTab('last30min', 'prefix2')" data-i18n="subTabs.prefix2">2️⃣ 접두어 (2단어)</div>
      <div class="sub-tab" onclick="showSubTab('last30min', 'prefix3')" data-i18n="subTabs.prefix3">3️⃣ 접두어 (3단어)</div>
    </div>

    <!-- 전체 제목 테이블 (최근 30분) -->
    <div id="last30min-full-content" class="sub-tab-content active">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByTitle">📈 페이지 제목별 조회수 (최근 30분)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.pageTitle">페이지 제목</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="last30min-page-title-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 1단어 테이블 (최근 30분) -->
    <div id="last30min-prefix1-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix1">🔤 접두어별 조회수 (1단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="last30min-prefix1-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 2단어 테이블 (최근 30분) -->
    <div id="last30min-prefix2-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix2">🔤 접두어별 조회수 (2단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="last30min-prefix2-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 3단어 테이블 (최근 30분) -->
    <div id="last30min-prefix3-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix3">🔤 접두어별 조회수 (3단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="last30min-prefix3-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- 날짜 지정 탭 컨텐츠 -->
  <div id="custom-date-content" class="tab-content">
    <div class="dashboard-box">
      <div class="date-selector">
        <input type="date" id="start-date" onchange="validateDates()" placeholder="YYYY-MM-DD">
        <span>~</span>
        <input type="date" id="end-date" onchange="validateDates()" placeholder="YYYY-MM-DD">
        <button onclick="fetchCustomDateData()" class="fetch-btn">🔍 <span data-i18n="buttons.fetch">조회하기</span></button>
        <div class="auto-update-check">
          <input type="checkbox" id="auto-update-check">
          <label for="auto-update-check" data-i18n="labels.autoUpdate">오늘 포함시 자동 업데이트</label>
        </div>
      </div>

      <!-- 빠른 날짜 선택 버튼 추가 -->
      <div style="margin-top: 10px; margin-bottom: 15px;">
        <span class="quick-date-label" data-i18n="labels.quickSelect">빠른 선택:</span>
        <div class="quick-date-buttons" style="display: inline-flex; margin-left: 10px;">
          <button class="quick-date-btn" onclick="setCustomDateRange(1)" data-i18n="quickDates.today">오늘</button>
          <button class="quick-date-btn" onclick="setCustomDateRange(3)" data-i18n="quickDates.days3">3일</button>
          <button class="quick-date-btn" onclick="setCustomDateRange(7)" data-i18n="quickDates.days7">7일</button>
          <button class="quick-date-btn" onclick="setCustomDateRange(14)" data-i18n="quickDates.weeks2">2주</button>
          <button class="quick-date-btn" onclick="setCustomDateRange(30)" data-i18n="quickDates.month1">한달</button>
        </div>
        <div style="display: inline-flex; align-items: center; margin-left: 20px;">
          <input type="checkbox" id="custom-date-exclude-today" style="margin-right: 5px;">
          <label for="custom-date-exclude-today" style="font-size: 0.85em; color: #666; cursor: pointer;" data-i18n="labels.excludeToday">
            📅 전일 기준 (오늘 제외)
          </label>
        </div>
      </div>

      <div style="display: flex; justify-content: space-between; margin-top: 15px;">
        <!-- 왼쪽 구역 -->
        <div style="width: 22%;">
          <div class="dashboard-title" data-i18n="dashboardTitles.customActiveUsers">📅 지정 기간 활성 사용자</div>
          <div class="active-users" id="custom-date-active-users">0</div>
        </div>

        <!-- 오른쪽 구역 -->
        <div style="width: 74%;">
          <div class="dashboard-title" style="margin-top: 0;" data-i18n="dashboardTitles.customPageviews">🔢 지정 기간 전체 조회수</div>
          <div class="active-users" id="custom-date-total-pageviews">0</div>
        </div>
      </div>

      <div class="update-time" id="custom-date-update-time"><span data-i18n="labels.lastUpdate">마지막 업데이트</span>: -</div>
    </div>

    <!-- 서브 탭 (날짜 지정) -->
    <div class="sub-tabs">
      <div class="sub-tab active" onclick="showSubTab('custom-date', 'full')" data-i18n="subTabs.allTitles">📊 전체 제목</div>
      <div class="sub-tab" onclick="showSubTab('custom-date', 'prefix1')" data-i18n="subTabs.prefix1">1️⃣ 접두어 (1단어)</div>
      <div class="sub-tab" onclick="showSubTab('custom-date', 'prefix2')" data-i18n="subTabs.prefix2">2️⃣ 접두어 (2단어)</div>
      <div class="sub-tab" onclick="showSubTab('custom-date', 'prefix3')" data-i18n="subTabs.prefix3">3️⃣ 접두어 (3단어)</div>
      <div class="sub-tab" onclick="showSubTab('custom-date', 'category')" data-i18n="subTabs.byCategory">📑 카테고리별</div>
    </div>

    <!-- 전체 제목 테이블 (날짜 지정) -->
    <div id="custom-date-full-content" class="sub-tab-content active">
      <div class="dashboard-box">
        <div style="display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 10px; padding-top: 3px;">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByTitleCustom">📈 페이지 제목별 조회읔 (지정 기간)</div>
          <div class="category-filter-container" id="custom-date-full-category-filter">
            <span class="category-label" data-i18n="labels.categorySelect">카테고리 선택:</span>
            <select class="category-dropdown" id="custom-date-full-category-select" onchange="filterByCategoryInFullTab('custom-date', this.value)">
              <option value="" data-i18n="labels.allCategories">전체 카테고리</option>
            </select>
          </div>
        </div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.pageTitle">페이지 제목</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="custom-date-page-title-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 1단어 테이블 (날짜 지정) -->
    <div id="custom-date-prefix1-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix1">🔤 접두어별 조회수 (1단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="custom-date-prefix1-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 2단어 테이블 (날짜 지정) -->
    <div id="custom-date-prefix2-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix2">🔤 접두어별 조회수 (2단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="custom-date-prefix2-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 3단어 테이블 (날짜 지정) -->
    <div id="custom-date-prefix3-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix3">🔤 접두어별 조회수 (3단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="custom-date-prefix3-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 카테고리별 테이블 (날짜 지정) 추가 -->
    <div id="custom-date-category-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div id="sync-banner-custom-date" class="sync-banner">🔄 아직 동기화된 카테고리 데이터가 없어요! 동기화 버튼을 눌러주세요!</div>
        <div class="dashboard-title">📑 카테고리별 조회수 (지정 기간)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th>카테고리</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="custom-date-category-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

  </div>

  <!-- 기간 비교 탭 컨텐츠 -->
  <div id="comparison-content" class="tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="dashboardTitles.comparisonAnalysis">⚔️ 기간 비교 분석</div>
        <div style="font-size: 0.9em; color: #666; margin-top: 5px; margin-bottom: 15px;">
          <span data-i18n="messages.comparisonDesc">📌 기간 A(이전)에서 기간 B(최근)로의 변화를 분석해요! 상승/하락 트렌드를 한눈에 확인하세요.</span>
        </div>
        
        <!-- 기간 선택 UI -->
        <div class="period-comparison-container">
          <div class="period-box period-a">
            <div class="period-title" data-i18n="labels.periodA">📅 기간 A (이전)</div>
            <input type="date" id="period-a-start" onchange="validatePeriodDates('a')" placeholder="YYYY-MM-DD">
            <span>~</span>
            <input type="date" id="period-a-end" onchange="validatePeriodDates('a')" placeholder="YYYY-MM-DD">
          </div>
          
          <div class="vs-symbol">⚔️</div>
          
          <div class="period-box period-b">
            <div class="period-title" data-i18n="labels.periodB">📅 기간 B (최근)</div>
            <input type="date" id="period-b-start" onchange="validatePeriodDates('b')" placeholder="YYYY-MM-DD">
            <span>~</span>
            <input type="date" id="period-b-end" onchange="validatePeriodDates('b')" placeholder="YYYY-MM-DD">
          </div>
          
          <button onclick="fetchComparisonData()" class="compare-btn">🔍 <span data-i18n="buttons.compare">비교하기</span></button>
        </div>

        <!-- 빠른 날짜 선택 버튼 -->
        <div style="margin-top: 15px; margin-bottom: 20px;">
          <span class="quick-date-label" data-i18n="labels.quickSelect">빠른 선택:</span>
          <div class="quick-date-buttons" style="display: inline-flex; margin-left: 10px;">
            <button class="quick-date-btn" onclick="setQuickDateRange(1)" data-i18n="quickDates.today">오늘</button>
            <button class="quick-date-btn" onclick="setQuickDateRange(3)" data-i18n="quickDates.days3">3일</button>
            <button class="quick-date-btn" onclick="setQuickDateRange(7)" data-i18n="quickDates.days7">7일</button>
            <button class="quick-date-btn" onclick="setQuickDateRange(14)" data-i18n="quickDates.weeks2">2주</button>
            <button class="quick-date-btn" onclick="setQuickDateRange(30)" data-i18n="quickDates.month1">한달</button>
          </div>
          <div style="display: inline-flex; align-items: center; margin-left: 20px;">
            <input type="checkbox" id="exclude-today-check" style="margin-right: 5px;" checked>
            <label for="exclude-today-check" style="font-size: 0.85em; color: #666; cursor: pointer;" data-i18n="labels.excludeToday">
              📅 전일 기준 (오늘 제외)
            </label>
          </div>
        </div>

        <!-- 스마트 필터 -->
        <div class="smart-filter" id="comparison-filters">
          <button class="filter-btn active" onclick="applyComparisonFilter('all')" data-i18n="filters.all">전체 보기</button>
          <button class="filter-btn" onclick="applyComparisonFilter('top-increase')" data-i18n="filters.top25up">🔥 TOP 25 상승</button>
          <button class="filter-btn" onclick="applyComparisonFilter('top-decrease')" data-i18n="filters.top25down">💧 TOP 25 하락</button>
          <button class="filter-btn" onclick="applyComparisonFilter('rapid-growth')" data-i18n="filters.surge">🚀 급상승 (100%↑)</button>
        </div>

        <!-- 카테고리별 비교 테이블 -->
        <div class="dashboard-box" style="margin-top: 20px;">
          <div class="dashboard-title" data-i18n="sectionTitles.categoryComparison">📊 카테고리별 비교</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.category">카테고리</th>
              <th data-i18n="tableHeaders.periodA">기간 A</th>
              <th data-i18n="tableHeaders.periodB">기간 B</th>
              <th data-i18n="tableHeaders.change">변화량</th>
              <th data-i18n="tableHeaders.changeRate">변화율</th>
              <th data-i18n="tableHeaders.periodARatio">기간 A 비중</th>
              <th data-i18n="tableHeaders.periodBRatio">기간 B 비중</th>
            </tr>
            </thead>
            <tbody id="comparison-category-table">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>

        <!-- 상세 포스트 비교 (카테고리 클릭시 표시) -->
        <div id="comparison-post-detail" class="dashboard-box" style="margin-top: 20px; display: none;">
          <div class="dashboard-title-with-close">
            <div class="dashboard-title" id="comparison-post-detail-title">📈 포스트별 상세 비교</div>
            <span class="close-button" onclick="closeComparisonDetail()">×</span>
          </div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.postTitle">포스트 제목</th>
              <th data-i18n="tableHeaders.periodA">기간 A</th>
              <th data-i18n="tableHeaders.periodB">기간 B</th>
              <th data-i18n="tableHeaders.change">변화량</th>
              <th data-i18n="tableHeaders.changeRate">변화율</th>
            </tr>
            </thead>
            <tbody id="comparison-post-table">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- JavaScript 파일들 -->
<script th:src="@{/js/dashboard-i18n.js}"></script>
<script th:src="@{/js/dashboard-core.js}"></script>
<script th:src="@{/js/dashboard-tabs.js}"></script>
<script th:src="@{/js/dashboard-data-fetcher.js}"></script>
<script th:src="@{/js/dashboard-table-renderer.js}"></script>
<script th:src="@{/js/dashboard-category-sync.js}"></script>

</body>
</html>
