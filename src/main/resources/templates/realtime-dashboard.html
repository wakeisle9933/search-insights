<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>실시간 대시보드 - Search Insights</title>
  
  <!-- CSS 파일들 -->
  <link rel="stylesheet" th:href="@{/css/dashboard-main.css}">
  <link rel="stylesheet" th:href="@{/css/dashboard-dark-theme.css}" id="theme-stylesheet">
  <link rel="stylesheet" th:href="@{/css/dashboard-components.css}">
  <link rel="stylesheet" th:href="@{/css/dashboard-components-patch.css}">
  <link rel="stylesheet" th:href="@{/css/dashboard-light-theme-patch.css}">
</head>
<body>
<div class="container">
  <div class="header-wrapper">
    <h1>😎 <span data-i18n="pageTitle">실시간 대시보드</span></h1>
    <div class="header-controls">
      <select class="language-select" onchange="changeLanguage(this.value)" title="언어 변경">
        <option value="ko">🇰🇷 한국어</option>
        <option value="en">🇺🇸 English</option>
        <option value="zh">🇨🇳 中文</option>
      </select>
      <button class="theme-toggle" onclick="toggleTheme()" title="테마 변경">
        <span class="theme-icon">🌙</span>
      </button>
    </div>
  </div>

  <!-- 메인 탭 -->
  <div class="main-tabs">
    <div class="main-tab active" onclick="showMainTab('today')" data-i18n="mainTabs.today">🌞 오늘 전체</div>
    <div class="main-tab" onclick="showMainTab('last30min')" data-i18n="mainTabs.last30min">⚡ 최근 30분</div>
    <div class="main-tab" onclick="showMainTab('custom-date')" data-i18n="mainTabs.customDate">📆 날짜 지정</div>
    <div class="main-tab" onclick="showMainTab('comparison')" data-i18n="mainTabs.comparison">⚔️ 기간 비교</div>
    <div class="main-tab" onclick="showMainTab('daily-chart')" data-i18n="mainTabs.dailyChart">📈 차트 및 인사이트</div>
    <div class="main-tab" onclick="showMainTab('backlink-check')" data-i18n="mainTabs.backlinkCheck">🔗 백링크 체크</div>
    <div class="tab-break"></div>
    <div class="main-tab" onclick="showMainTab('report-send')" data-i18n="mainTabs.reportSend">📧 리포트 발송</div>
  </div>

  <!-- 오늘 전체 탭 컨텐츠 -->
  <div id="today-content" class="tab-content active">
    <div class="dashboard-box">
      <div style="display: flex; justify-content: space-between;">
        <!-- 왼쪽 구역 (빨간색 부분) -->
        <div style="width: 22%;">
          <div class="dashboard-title" data-i18n="dashboardTitles.todayActiveUsers">🔎 오늘 전체 활성 사용자</div>
          <div class="active-users" id="today-active-users">0</div>
        </div>

        <!-- 오른쪽 구역 (주황색 부분) -->
        <div style="width: 74%;">
          <div class="dashboard-title" style="margin-top: 0;" data-i18n="dashboardTitles.todayPageviews">🔢 오늘 전체 조회수</div>
          <div class="active-users" id="today-total-pageviews">0</div>
        </div>
      </div>

      <div class="update-time" id="today-update-time"><span data-i18n="labels.lastUpdate">마지막 업데이트</span>: -</div>
    </div>

    <!-- 서브 탭 (오늘 전체) -->
    <div class="sub-tabs">
      <div class="sub-tab active" onclick="showSubTab('today', 'full')" data-i18n="subTabs.allTitles">📊 전체 제목</div>
      <div class="sub-tab" onclick="showSubTab('today', 'prefix1')" data-i18n="subTabs.prefix1">1️⃣ 접두어 (1단어)</div>
      <div class="sub-tab" onclick="showSubTab('today', 'prefix2')" data-i18n="subTabs.prefix2">2️⃣ 접두어 (2단어)</div>
      <div class="sub-tab" onclick="showSubTab('today', 'prefix3')" data-i18n="subTabs.prefix3">3️⃣ 접두어 (3단어)</div>
      <div class="sub-tab" onclick="showSubTab('today', 'category')" data-i18n="subTabs.byCategory">📑 카테고리별</div>
      <button class="sync-button" onclick="syncWordPressCategories(false)">
        <span class="sync-button-icon">🔄</span> <span data-i18n="buttons.syncCategories">카테고리 추가 동기화</span>
      </button>
      <button class="sync-button full-sync-button" onclick="syncWordPressCategories(true)">
        <span class="sync-button-icon">🔁</span> <span data-i18n="buttons.resetCategories">카테고리 전체 초기화</span>
      </button>
    </div>

    <!-- 전체 제목 테이블 (오늘) -->
    <div id="today-full-content" class="sub-tab-content active">
      <div class="dashboard-box">
        <div style="display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 10px; padding-top: 3px;">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByTitleToday">📈 페이지 제목별 조회수 (오늘)</div>
          <div class="category-filter-container" id="today-full-category-filter">
            <span class="category-label" data-i18n="labels.categorySelect">카테고리 선택:</span>
            <select class="category-dropdown" id="today-full-category-select" onchange="filterByCategoryInFullTab('today', this.value)">
              <option value="" data-i18n="labels.allCategories">전체 카테고리</option>
            </select>
          </div>
        </div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.pageTitle">페이지 제목</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="today-page-title-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 1단어 테이블 (오늘) -->
    <div id="today-prefix1-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix1">🔤 접두어별 조회수 (1단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="today-prefix1-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 2단어 테이블 (오늘) -->
    <div id="today-prefix2-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix2">🔤 접두어별 조회수 (2단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="today-prefix2-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 3단어 테이블 (오늘) -->
    <div id="today-prefix3-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix3">🔤 접두어별 조회수 (3단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="today-prefix3-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <div id="today-category-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div id="sync-banner-today" class="sync-banner">🔄 아직 동기화된 카테고리 데이터가 없어요! 동기화 버튼을 눌러주세요!</div>
        <div class="dashboard-title">📑 카테고리별 조회수 (오늘)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th>카테고리</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="today-category-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

  </div>


  <!-- 최근 30분 탭 컨텐츠 -->
  <div id="last30min-content" class="tab-content">
    <div class="dashboard-box">
      <div style="display: flex; justify-content: space-between;">
        <!-- 왼쪽 구역 -->
        <div style="width: 22%;">
          <div class="dashboard-title" data-i18n="dashboardTitles.last30minActiveUsers">🔥 최근 30분 활성 사용자</div>
          <div class="active-users" id="last30min-active-users">0</div>
        </div>

        <!-- 오른쪽 구역 -->
        <div style="width: 74%;">
          <div class="dashboard-title" style="margin-top: 0;" data-i18n="dashboardTitles.last30minPageviews">🔢 최근 30분 전체 조회수</div>
          <div class="active-users" id="last30min-total-pageviews">0</div>
        </div>
      </div>

      <div class="update-time" id="last30min-update-time"><span data-i18n="labels.lastUpdate">마지막 업데이트</span>: -</div>
    </div>

    <!-- 서브 탭 (최근 30분) -->
    <div class="sub-tabs">
      <div class="sub-tab active" onclick="showSubTab('last30min', 'full')" data-i18n="subTabs.allTitles">📊 전체 제목</div>
      <div class="sub-tab" onclick="showSubTab('last30min', 'prefix1')" data-i18n="subTabs.prefix1">1️⃣ 접두어 (1단어)</div>
      <div class="sub-tab" onclick="showSubTab('last30min', 'prefix2')" data-i18n="subTabs.prefix2">2️⃣ 접두어 (2단어)</div>
      <div class="sub-tab" onclick="showSubTab('last30min', 'prefix3')" data-i18n="subTabs.prefix3">3️⃣ 접두어 (3단어)</div>
    </div>

    <!-- 전체 제목 테이블 (최근 30분) -->
    <div id="last30min-full-content" class="sub-tab-content active">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByTitle">📈 페이지 제목별 조회수 (최근 30분)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.pageTitle">페이지 제목</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="last30min-page-title-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 1단어 테이블 (최근 30분) -->
    <div id="last30min-prefix1-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix1">🔤 접두어별 조회수 (1단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="last30min-prefix1-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 2단어 테이블 (최근 30분) -->
    <div id="last30min-prefix2-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix2">🔤 접두어별 조회수 (2단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="last30min-prefix2-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 3단어 테이블 (최근 30분) -->
    <div id="last30min-prefix3-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix3">🔤 접두어별 조회수 (3단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="last30min-prefix3-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- 날짜 지정 탭 컨텐츠 -->
  <div id="custom-date-content" class="tab-content">
    <div class="dashboard-box">
      <div class="date-selector">
        <input type="date" id="start-date" onchange="validateDates()" placeholder="YYYY-MM-DD">
        <span>~</span>
        <input type="date" id="end-date" onchange="validateDates()" placeholder="YYYY-MM-DD">
        <button onclick="fetchCustomDateData()" class="fetch-btn">🔍 <span data-i18n="buttons.fetch">조회하기</span></button>
        <div class="auto-update-check">
          <input type="checkbox" id="auto-update-check">
          <label for="auto-update-check" data-i18n="labels.autoUpdate">오늘 포함시 자동 업데이트</label>
        </div>
      </div>

      <!-- 빠른 날짜 선택 버튼 추가 -->
      <div style="margin-top: 10px; margin-bottom: 15px;">
        <span class="quick-date-label" data-i18n="labels.quickSelect">빠른 선택:</span>
        <div class="quick-date-buttons" style="display: inline-flex; margin-left: 10px;">
          <button class="quick-date-btn" onclick="setCustomDateRange(1)" data-i18n="quickDates.today">오늘</button>
          <button class="quick-date-btn" onclick="setCustomDateRange(3)" data-i18n="quickDates.days3">3일</button>
          <button class="quick-date-btn" onclick="setCustomDateRange(7)" data-i18n="quickDates.days7">7일</button>
          <button class="quick-date-btn" onclick="setCustomDateRange(14)" data-i18n="quickDates.weeks2">2주</button>
          <button class="quick-date-btn" onclick="setCustomDateRange(30)" data-i18n="quickDates.month1">한달</button>
        </div>
        <div style="display: inline-flex; align-items: center; margin-left: 20px;">
          <input type="checkbox" id="custom-date-exclude-today" style="margin-right: 5px;">
          <label for="custom-date-exclude-today" style="font-size: 0.85em; color: #666; cursor: pointer;" data-i18n="labels.excludeToday">
            📅 전일 기준 (오늘 제외)
          </label>
        </div>
      </div>

      <div style="display: flex; justify-content: space-between; margin-top: 15px;">
        <!-- 왼쪽 구역 -->
        <div style="width: 22%;">
          <div class="dashboard-title" data-i18n="dashboardTitles.customActiveUsers">📅 지정 기간 활성 사용자</div>
          <div class="active-users" id="custom-date-active-users">0</div>
        </div>

        <!-- 오른쪽 구역 -->
        <div style="width: 74%;">
          <div class="dashboard-title" style="margin-top: 0;" data-i18n="dashboardTitles.customPageviews">🔢 지정 기간 전체 조회수</div>
          <div class="active-users" id="custom-date-total-pageviews">0</div>
        </div>
      </div>

      <div class="update-time" id="custom-date-update-time"><span data-i18n="labels.lastUpdate">마지막 업데이트</span>: -</div>
    </div>

    <!-- 서브 탭 (날짜 지정) -->
    <div class="sub-tabs">
      <div class="sub-tab active" onclick="showSubTab('custom-date', 'full')" data-i18n="subTabs.allTitles">📊 전체 제목</div>
      <div class="sub-tab" onclick="showSubTab('custom-date', 'prefix1')" data-i18n="subTabs.prefix1">1️⃣ 접두어 (1단어)</div>
      <div class="sub-tab" onclick="showSubTab('custom-date', 'prefix2')" data-i18n="subTabs.prefix2">2️⃣ 접두어 (2단어)</div>
      <div class="sub-tab" onclick="showSubTab('custom-date', 'prefix3')" data-i18n="subTabs.prefix3">3️⃣ 접두어 (3단어)</div>
      <div class="sub-tab" onclick="showSubTab('custom-date', 'category')" data-i18n="subTabs.byCategory">📑 카테고리별</div>
    </div>

    <!-- 초기 메시지 (조회 전) -->
    <div id="custom-date-initial-message" class="dashboard-box" style="padding: 80px 20px; text-align: center;">
      <div style="font-size: 4em; margin-bottom: 20px;">📊</div>
      <div style="font-size: 1.2em; color: #666;" data-i18n="messages.selectDateRange">날짜를 선택하고 조회하기 버튼을 클릭해주세요!</div>
    </div>

    <!-- 로딩 인디케이터 -->
    <div id="custom-date-loading" class="dashboard-box" style="display: none; padding: 80px 20px; text-align: center;">
      <div class="loading-spinner" style="margin: 0 auto;"></div>
      <div style="margin-top: 20px; font-size: 1.1em; color: #666;" data-i18n="messages.loadingData">데이터를 불러오는 중...</div>
    </div>

    <!-- 데이터 컨텐츠 영역 (조회 후 표시) -->
    <div id="custom-date-data-container" style="display: none;">
    <!-- 전체 제목 테이블 (날짜 지정) -->
    <div id="custom-date-full-content" class="sub-tab-content active">
      <div class="dashboard-box">
        <div style="display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 10px; padding-top: 3px;">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByTitleCustom">📈 페이지 제목별 조회읔 (지정 기간)</div>
          <div class="category-filter-container" id="custom-date-full-category-filter">
            <span class="category-label" data-i18n="labels.categorySelect">카테고리 선택:</span>
            <select class="category-dropdown" id="custom-date-full-category-select" onchange="filterByCategoryInFullTab('custom-date', this.value)">
              <option value="" data-i18n="labels.allCategories">전체 카테고리</option>
            </select>
          </div>
        </div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.pageTitle">페이지 제목</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="custom-date-page-title-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 1단어 테이블 (날짜 지정) -->
    <div id="custom-date-prefix1-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix1">🔤 접두어별 조회수 (1단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="custom-date-prefix1-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 2단어 테이블 (날짜 지정) -->
    <div id="custom-date-prefix2-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix2">🔤 접두어별 조회수 (2단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="custom-date-prefix2-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 접두어 3단어 테이블 (날짜 지정) -->
    <div id="custom-date-prefix3-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix3">🔤 접두어별 조회수 (3단어)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.prefix">접두어</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="custom-date-prefix3-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- 카테고리별 테이블 (날짜 지정) 추가 -->
    <div id="custom-date-category-content" class="sub-tab-content">
      <div class="dashboard-box">
        <div id="sync-banner-custom-date" class="sync-banner">🔄 아직 동기화된 카테고리 데이터가 없어요! 동기화 버튼을 눌러주세요!</div>
        <div class="dashboard-title">📑 카테고리별 조회수 (지정 기간)</div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th>카테고리</th>
            <th data-i18n="tableHeaders.views">조회수</th>
            <th data-i18n="tableHeaders.ratio">비율</th>
          </tr>
          </thead>
          <tbody id="custom-date-category-views">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div>
    </div><!-- custom-date-data-container 종료 -->

  </div>

  <!-- 기간 비교 탭 컨텐츠 -->
  <div id="comparison-content" class="tab-content">
    <!-- 조회 조건 박스 -->
    <div class="dashboard-box">
      <div class="dashboard-title" data-i18n="dashboardTitles.comparisonAnalysis">⚔️ 기간 비교 분석</div>
      <div style="font-size: 0.9em; color: #666; margin-top: 5px; margin-bottom: 20px;">
        <span data-i18n="messages.comparisonDesc">📌 기간 A(이전)에서 기간 B(최근)로의 변화를 분석해요! 상승/하락 트렌드를 한눈에 확인하세요.</span>
      </div>
      
      <!-- 기간 선택 UI -->
      <div class="period-comparison-container">
        <div class="period-box period-a">
          <div class="period-title" data-i18n="labels.periodA">📅 기간 A (이전)</div>
          <input type="date" id="period-a-start" onchange="validatePeriodDates('a')" placeholder="YYYY-MM-DD">
          <span>~</span>
          <input type="date" id="period-a-end" onchange="validatePeriodDates('a')" placeholder="YYYY-MM-DD">
        </div>
        
        <div class="vs-symbol">⚔️</div>
        
        <div class="period-box period-b">
          <div class="period-title" data-i18n="labels.periodB">📅 기간 B (최근)</div>
          <input type="date" id="period-b-start" onchange="validatePeriodDates('b')" placeholder="YYYY-MM-DD">
          <span>~</span>
          <input type="date" id="period-b-end" onchange="validatePeriodDates('b')" placeholder="YYYY-MM-DD">
        </div>
        
        <button onclick="fetchComparisonData()" class="compare-btn">🔍 <span data-i18n="buttons.compare">비교하기</span></button>
      </div>

      <!-- 빠른 날짜 선택 버튼 -->
      <div style="margin-top: 15px; margin-bottom: 15px;">
        <span class="quick-date-label" data-i18n="labels.quickSelect">빠른 선택:</span>
        <div class="quick-date-buttons" style="display: inline-flex; margin-left: 10px;">
          <button class="quick-date-btn" onclick="setQuickDateRange(1)" data-i18n="quickDates.today">오늘</button>
          <button class="quick-date-btn" onclick="setQuickDateRange(3)" data-i18n="quickDates.days3">3일</button>
          <button class="quick-date-btn" onclick="setQuickDateRange(7)" data-i18n="quickDates.days7">7일</button>
          <button class="quick-date-btn" onclick="setQuickDateRange(14)" data-i18n="quickDates.weeks2">2주</button>
          <button class="quick-date-btn" onclick="setQuickDateRange(30)" data-i18n="quickDates.month1">한달</button>
        </div>
        <div style="display: inline-flex; align-items: center; margin-left: 20px;">
          <input type="checkbox" id="exclude-today-check" style="margin-right: 5px;" checked>
          <label for="exclude-today-check" style="font-size: 0.85em; color: #666; cursor: pointer;" data-i18n="labels.excludeToday">
            📅 전일 기준 (오늘 제외)
          </label>
        </div>
      </div>
    </div>

    <!-- 초기 메시지 (비교 전) -->
    <div id="comparison-initial-message" class="dashboard-box" style="padding: 80px 20px; text-align: center;">
      <div style="font-size: 4em; margin-bottom: 20px;">⚔️</div>
      <div style="font-size: 1.2em; color: #666;" data-i18n="messages.selectCompareDates">기간을 선택하고 비교하기 버튼을 클릭해주세요!</div>
    </div>

    <!-- 로딩 인디케이터 -->
    <div id="comparison-loading" class="dashboard-box" style="display: none; padding: 80px 20px; text-align: center;">
      <div class="loading-spinner" style="margin: 0 auto;"></div>
      <div style="margin-top: 20px; font-size: 1.1em; color: #666;" data-i18n="messages.comparingData">데이터를 비교하는 중...</div>
    </div>

    <!-- 데이터 컨텐츠 영역 (비교 후 표시) -->
    <div id="comparison-data-container" style="display: none;">
      <!-- 스마트 필터 -->
      <div class="smart-filter" id="comparison-filters" style="margin-top: 20px;">
        <button class="filter-btn active" onclick="applyComparisonFilter('all')" data-i18n="filters.all">전체 보기</button>
        <button class="filter-btn" onclick="applyComparisonFilter('top-increase')" data-i18n="filters.top25up">🔥 TOP 25 상승</button>
        <button class="filter-btn" onclick="applyComparisonFilter('top-decrease')" data-i18n="filters.top25down">💧 TOP 25 하락</button>
        <button class="filter-btn" onclick="applyComparisonFilter('rapid-growth')" data-i18n="filters.surge">🚀 급상승 (100%↑)</button>
      </div>

      <!-- 카테고리별 비교 테이블 -->
      <div class="dashboard-box" style="margin-top: 20px;">
        <div class="dashboard-title" data-i18n="sectionTitles.categoryComparison">📊 카테고리별 비교</div>
        <table>
          <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.category">카테고리</th>
              <th data-i18n="tableHeaders.periodA">기간 A</th>
              <th data-i18n="tableHeaders.periodB">기간 B</th>
              <th data-i18n="tableHeaders.change">변화량</th>
              <th data-i18n="tableHeaders.changeRate">변화율</th>
              <th data-i18n="tableHeaders.periodARatio">기간 A 비중</th>
              <th data-i18n="tableHeaders.periodBRatio">기간 B 비중</th>
            </tr>
            </thead>
            <tbody id="comparison-category-table">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>

      <!-- 상세 포스트 비교 (카테고리 클릭시 표시) -->
      <div id="comparison-post-detail" class="dashboard-box" style="margin-top: 20px; display: none;">
        <div class="dashboard-title-with-close">
          <div class="dashboard-title" id="comparison-post-detail-title">📈 포스트별 상세 비교</div>
          <span class="close-button" onclick="closeComparisonDetail()">×</span>
        </div>
        <table>
          <thead>
          <tr>
            <th data-i18n="tableHeaders.rank">순번</th>
            <th data-i18n="tableHeaders.postTitle">포스트 제목</th>
            <th data-i18n="tableHeaders.periodA">기간 A</th>
            <th data-i18n="tableHeaders.periodB">기간 B</th>
            <th data-i18n="tableHeaders.change">변화량</th>
            <th data-i18n="tableHeaders.changeRate">변화율</th>
          </tr>
          </thead>
          <tbody id="comparison-post-table">
          <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
          </tbody>
        </table>
      </div>
    </div><!-- comparison-data-container 종료 -->
  </div>

  <!-- 일간 차트 탭 컨텐츠 -->
  <div id="daily-chart-content" class="tab-content">
    <!-- 조회 조건 박스 -->
    <div class="dashboard-box">
      <div class="dashboard-title" data-i18n="dashboardTitles.dailyChart">📈 차트 및 인사이트</div>
      <div style="font-size: 0.9em; color: #666; margin-top: 5px; margin-bottom: 20px;">
        <span data-i18n="messages.dailyChartDesc">📌 일별 방문자 추이, 시간대별 활동 패턴, 성별/연령별 분석까지! 다양한 인사이트를 한눈에 확인하세요. 차트를 클릭하면 상세 데이터를 볼 수 있어요.</span>
      </div>
      
      <!-- 날짜 선택 영역 -->
      <div class="date-selector">
        <input type="date" id="chart-start-date" onchange="validateChartDates()" placeholder="YYYY-MM-DD">
        <span>~</span>
        <input type="date" id="chart-end-date" onchange="validateChartDates()" placeholder="YYYY-MM-DD">
        <button onclick="fetchDailyChartData()" class="fetch-btn">🔍 <span data-i18n="buttons.fetch">조회하기</span></button>
      </div>
      
      <!-- 빠른 날짜 선택 버튼 -->
      <div style="margin-top: 10px; margin-bottom: 15px;">
        <span class="quick-date-label" data-i18n="labels.quickSelect">빠른 선택:</span>
        <div class="quick-date-buttons" style="display: inline-flex; margin-left: 10px;">
          <button class="quick-date-btn" onclick="setChartDateRange(7, false)" data-i18n="quickDates.days7">7일</button>
          <button class="quick-date-btn" onclick="setChartDateRange(14, false)" data-i18n="quickDates.weeks2">2주</button>
          <button class="quick-date-btn" onclick="setChartDateRange(30, false)" data-i18n="quickDates.month1">한달</button>
        </div>
        <div style="display: inline-flex; align-items: center; margin-left: 20px;">
          <input type="checkbox" id="chart-exclude-today" style="margin-right: 5px;" checked>
          <label for="chart-exclude-today" style="font-size: 0.85em; color: #666; cursor: pointer;" data-i18n="labels.excludeToday">
            📅 전일 기준 (오늘 제외)
          </label>
        </div>
      </div>
      
      <div class="update-time" id="daily-chart-update-time"><span data-i18n="labels.lastUpdate">마지막 업데이트</span>: -</div>
    </div>
    
    <!-- 차트 및 히트맵 박스 -->
    <div class="dashboard-box">
      <!-- 차트와 히트맵 컨테이너 래퍼 -->
      <div style="display: flex; gap: 20px; margin-bottom: 20px;">
        <!-- 차트 컨테이너 (왼쪽) -->
        <div style="flex: 1;">
          <div id="chart-container" style="position: relative; height: 530px; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.02); padding: 20px; box-sizing: border-box; overflow: hidden;">
          <h3 class="daily-chart-title" data-i18n="sectionTitles.dailyChartTitle">일간 차트</h3>
          <canvas id="daily-chart-canvas" style="display: none;"></canvas>
            
            <!-- 초기 메시지 -->
            <div id="chart-initial-message" style="display: flex; align-items: center; justify-content: center; position: absolute; top: 0; left: 0; width: 100%; height: 100%; color: #666;">
              <div style="text-align: center;">
                <div style="font-size: 3em; margin-bottom: 10px;">📊</div>
                <div data-i18n="messages.selectDateRange">날짜를 선택하고 조회하기 버튼을 클릭해주세요!</div>
              </div>
            </div>
            
            <!-- 로딩 인디케이터 -->
            <div id="chart-loading" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); border-radius: 8px; z-index: 10;">
              <div style="display: flex; align-items: center; justify-content: center; height: 100%;">
                <div style="text-align: center;">
                  <div class="loading-spinner"></div>
                  <div style="margin-top: 10px; color: #e0e0e0;" data-i18n="messages.loadingChart">차트 데이터를 불러오는 중...</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 히트맵 컨테이너 (오른쪽) -->
        <div style="flex: 0 0 45%;">
          <div id="heatmap-container" style="position: relative; height: 530px; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.02); padding: 20px; box-sizing: border-box; overflow: hidden;">
            <h3 class="hourly-activity-title" data-i18n="heatmap.title">시간대별 활동</h3>
            <!-- 히트맵이 여기에 동적으로 렌더링됩니다 -->
            <div id="heatmap-content" style="height: calc(100% - 50px); overflow: auto;">
              <div id="heatmap-initial-message" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #666;">
                <div style="text-align: center;">
                  <div style="font-size: 3em; margin-bottom: 10px;">🔥</div>
                  <div data-i18n="messages.selectDateForHeatmap">날짜를 선택하면 시간대별 활동 히트맵이 표시됩니다!</div>
                </div>
              </div>
            </div>
            
            <!-- 로딩 인디케이터 -->
            <div id="heatmap-loading" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); border-radius: 8px; z-index: 100;">
              <div style="display: flex; align-items: center; justify-content: center; height: 100%;">
                <div style="text-align: center;">
                  <div class="loading-spinner"></div>
                  <div style="margin-top: 10px; color: #e0e0e0;" data-i18n="messages.loadingHeatmap">히트맵 데이터를 불러오는 중...</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 도메인별 트래픽 소스 컨테이너 (중간) -->
      <div style="margin-top: 20px; margin-bottom: 20px;">
        <div style="display: flex; gap: 20px;">
          <!-- 와플차트 컨테이너 (왼쪽) -->
          <div style="width: 45%;">
            <div id="traffic-source-container" style="position: relative; height: 520px; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.02); padding: 20px; box-sizing: border-box;">
              <h3 class="traffic-source-title" data-i18n="sectionTitles.trafficSourceByDomain">도메인별 트래픽 소스</h3>
              <div id="waffle-chart-container" style="height: calc(100% - 40px);">
              <!-- 초기 메시지 -->
              <div id="waffle-initial-message" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #666;">
                <div style="text-align: center;">
                  <div style="font-size: 3em; margin-bottom: 10px;">🧇</div>
                  <div style="font-size: 0.9em;" data-i18n="messages.selectDateForTrafficSource">날짜를 선택하면 도메인별 트래픽 분포가 표시됩니다!</div>
                </div>
              </div>
              <!-- 와플차트가 여기에 렌더링됩니다 -->
              <div id="waffle-chart" style="display: none;"></div>
            </div>
            
            <!-- 로딩 인디케이터 -->
            <div id="waffle-loading" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); border-radius: 8px; z-index: 100;">
              <div style="display: flex; align-items: center; justify-content: center; height: 100%;">
                <div style="text-align: center;">
                  <div class="loading-spinner"></div>
                  <div style="margin-top: 10px; color: #e0e0e0; font-size: 0.9em;" data-i18n="messages.loadingTrafficSource">트래픽 소스 데이터를 불러오는 중...</div>
                </div>
              </div>
            </div>
          </div>
          </div>
          
          <!-- 도메인별 상세 테이블 (오른쪽) -->
          <div style="flex: 1;">
            <div id="domain-top-container" style="position: relative; height: 520px; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.02); padding: 20px; box-sizing: border-box; overflow: hidden;">
              <h3 class="domain-top-title" data-i18n="sectionTitles.trafficByDomainTop10">도메인별 접속량 TOP 7</h3>
              <div style="height: calc(100% - 50px); overflow: auto; position: relative;">
                <table id="traffic-source-table" style="display: none; margin-top: 10px;">
                <thead>
                  <tr>
                    <th style="width: 10%;" data-i18n="tableHeaders.rank">순번</th>
                    <th style="width: 45%;" data-i18n="tableHeaders.domain">도메인</th>
                    <th style="width: 15%;" data-i18n="tableHeaders.channel">채널</th>
                    <th style="width: 15%;" data-i18n="tableHeaders.sessions">세션수</th>
                    <th style="width: 15%;" data-i18n="tableHeaders.ratio">비율</th>
                  </tr>
                </thead>
                <tbody id="traffic-source-tbody">
                  <!-- 데이터가 여기에 동적으로 삽입됩니다 -->
                </tbody>
              </table>
              
                <!-- 초기 메시지 -->
                <div id="traffic-source-initial-message" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #666; position: absolute; top: 0; left: 0; right: 0; bottom: 0;">
                  <div style="text-align: center;">
                    <div style="font-size: 3em; margin-bottom: 10px;">📊</div>
                    <div data-i18n="messages.selectDateForTrafficTable">날짜를 선택하면 도메인별 접속량이 표시됩니다!</div>
                  </div>
                </div>
              </div>
            
            <!-- 로딩 인디케이터 -->
            <div id="traffic-table-loading" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); border-radius: 8px; z-index: 100;">
              <div style="display: flex; align-items: center; justify-content: center; height: 100%;">
                <div style="text-align: center;">
                  <div class="loading-spinner"></div>
                  <div style="margin-top: 10px; color: #e0e0e0; font-size: 0.9em;" data-i18n="messages.loadingTrafficTable">도메인별 접속량을 불러오는 중...</div>
                </div>
              </div>
            </div>
          </div>
          </div>
        </div>
      </div>
      
      <!-- 성별/연령별 차트 컨테이너 (아래쪽) -->
      <div style="margin-top: 20px;">
        <div id="demographics-heatmap-container" style="position: relative; height: 550px; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.02); padding: 20px; box-sizing: border-box;">
          <h3 class="demographics-title" data-i18n="demographics.title">성별/연령별 활동</h3>
          <!-- 컨텐츠 영역 -->
          <div id="demographics-content" style="height: calc(100% - 50px);">
            <!-- 초기 메시지 -->
            <div id="demographics-initial-message" style="display: flex; align-items: center; justify-content: center; height: 100%; color: #666;">
              <div style="text-align: center;">
                <div style="font-size: 3em; margin-bottom: 10px;">👨‍👩‍👧‍👦</div>
                <div data-i18n="messages.selectDateForDemographics">날짜를 선택하면 성별/연령별 분석이 표시됩니다!</div>
              </div>
            </div>
          </div>
          
          <!-- 로딩 인디케이터 -->
          <div id="demographics-loading" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); border-radius: 8px; z-index: 100;">
            <div style="display: flex; align-items: center; justify-content: center; height: 100%;">
              <div style="text-align: center;">
                <div class="loading-spinner"></div>
                <div style="margin-top: 10px; color: #e0e0e0; font-size: 0.9em;" data-i18n="messages.loadingDemographics">성별/연령별 데이터를 불러오는 중...</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 성별/연령별 상세 데이터 (연령대 클릭시 표시) -->
    <div id="demographics-detail" style="margin-top: 20px; display: none;">
      <div class="dashboard-box">
        <div class="dashboard-title-with-close">
          <div class="dashboard-title" id="demographics-detail-title">👨‍👩‍👧‍👦 성별/연령별 상세 분석</div>
          <span class="close-button" onclick="closeDemographicsDetail()">×</span>
        </div>
        
        <!-- 요약 정보 -->
        <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
          <div style="width: 20%;">
            <div class="dashboard-title" style="font-size: 0.9em;">👤 성별</div>
            <div class="active-users" id="demographics-detail-gender" style="font-size: 2.5em;">-</div>
          </div>
          <div style="width: 20%;">
            <div class="dashboard-title" style="font-size: 0.9em;">🎂 연령대</div>
            <div class="active-users" id="demographics-detail-age" style="font-size: 2.5em;">-</div>
          </div>
          <div style="width: 25%;">
            <div class="dashboard-title" style="font-size: 0.9em;">🔎 활성 사용자</div>
            <div class="active-users" id="demographics-detail-active-users" style="font-size: 2.5em;">0</div>
          </div>
          <div style="width: 25%;">
            <div class="dashboard-title" style="font-size: 0.9em;">🔢 페이지뷰</div>
            <div class="active-users" id="demographics-detail-pageviews" style="font-size: 2.5em;">0</div>
          </div>
        </div>
      </div>
      
      <!-- 서브 탭 (성별/연령별 상세) -->
      <div class="sub-tabs">
        <div class="sub-tab active" onclick="showSubTab('demographics-detail', 'full')" data-i18n="subTabs.allTitles">📊 전체 제목</div>
        <div class="sub-tab" onclick="showSubTab('demographics-detail', 'prefix1')" data-i18n="subTabs.prefix1">1️⃣ 접두어 (1단어)</div>
        <div class="sub-tab" onclick="showSubTab('demographics-detail', 'prefix2')" data-i18n="subTabs.prefix2">2️⃣ 접두어 (2단어)</div>
        <div class="sub-tab" onclick="showSubTab('demographics-detail', 'prefix3')" data-i18n="subTabs.prefix3">3️⃣ 접두어 (3단어)</div>
        <div class="sub-tab" onclick="showSubTab('demographics-detail', 'category')" data-i18n="subTabs.byCategory">📑 카테고리별</div>
      </div>
      
      <!-- 전체 제목 테이블 (성별/연령별 상세) -->
      <div id="demographics-detail-full-content" class="sub-tab-content active">
        <div class="dashboard-box">
          <div style="display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 10px; padding-top: 3px;">
            <div class="dashboard-title" id="demographics-detail-full-title">📈 페이지 제목별 조회수</div>
            <div class="category-filter-container" id="demographics-detail-full-category-filter">
              <span class="category-label" data-i18n="labels.categorySelect">카테고리 선택:</span>
              <select class="category-dropdown" id="demographics-detail-full-category-select" onchange="filterByCategoryInFullTab('demographics-detail', this.value)">
                <option value="" data-i18n="labels.allCategories">전체 카테고리</option>
              </select>
            </div>
          </div>
          <table>
            <thead>
              <tr>
                <th data-i18n="tableHeaders.rank">순번</th>
                <th data-i18n="tableHeaders.pageTitle">페이지 제목</th>
                <th data-i18n="tableHeaders.views">조회수</th>
                <th data-i18n="tableHeaders.ratio">비율</th>
              </tr>
            </thead>
            <tbody id="demographics-detail-page-title-views">
              <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 1단어 테이블 (성별/연령별 상세) -->
      <div id="demographics-detail-prefix1-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix1">🔤 접두어별 조회수 (1단어)</div>
          <table>
            <thead>
              <tr>
                <th data-i18n="tableHeaders.rank">순번</th>
                <th data-i18n="tableHeaders.prefix">접두어</th>
                <th data-i18n="tableHeaders.views">조회수</th>
                <th data-i18n="tableHeaders.ratio">비율</th>
              </tr>
            </thead>
            <tbody id="demographics-detail-prefix1-views">
              <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 2단어 테이블 (성별/연령별 상세) -->
      <div id="demographics-detail-prefix2-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix2">🔤 접두어별 조회수 (2단어)</div>
          <table>
            <thead>
              <tr>
                <th data-i18n="tableHeaders.rank">순번</th>
                <th data-i18n="tableHeaders.prefix">접두어</th>
                <th data-i18n="tableHeaders.views">조회수</th>
                <th data-i18n="tableHeaders.ratio">비율</th>
              </tr>
            </thead>
            <tbody id="demographics-detail-prefix2-views">
              <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 3단어 테이블 (성별/연령별 상세) -->
      <div id="demographics-detail-prefix3-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix3">🔤 접두어별 조회수 (3단어)</div>
          <table>
            <thead>
              <tr>
                <th data-i18n="tableHeaders.rank">순번</th>
                <th data-i18n="tableHeaders.prefix">접두어</th>
                <th data-i18n="tableHeaders.views">조회수</th>
                <th data-i18n="tableHeaders.ratio">비율</th>
              </tr>
            </thead>
            <tbody id="demographics-detail-prefix3-views">
              <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 카테고리별 테이블 (성별/연령별 상세) -->
      <div id="demographics-detail-category-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByCategory">📊 카테고리별 조회수</div>
          
          <!-- 동기화 배너 -->
          <div id="sync-banner-demographics-detail" class="sync-banner">
            <span data-i18n="messages.syncRequired">아직 동기화된 카테고리 데이터가 없어요! 동기화 버튼을 눌러주세요!</span>
          </div>
          
          <table>
            <thead>
              <tr>
                <th data-i18n="tableHeaders.rank">순번</th>
                <th data-i18n="tableHeaders.category">카테고리</th>
                <th data-i18n="tableHeaders.views">조회수</th>
                <th data-i18n="tableHeaders.ratio">비율</th>
              </tr>
            </thead>
            <tbody id="demographics-detail-category-views">
              <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
    
    <!-- 로딩 인디케이터 (demographics-detail용) -->
    <div id="demographics-detail-loading" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 9999;">
      <div style="display: flex; align-items: center; justify-content: center; height: 100%;">
        <div style="text-align: center;">
          <div class="loading-spinner"></div>
          <div style="margin-top: 15px; color: #e0e0e0; font-size: 0.9em;" data-i18n="messages.loadingDemographicsDetail">성별/연령별 상세 데이터를 불러오는 중...</div>
        </div>
      </div>
    </div>
    
    <!-- 날짜별 상세 데이터 (날짜 클릭시 표시) -->
    <div id="daily-chart-detail" style="margin-top: 20px; display: none;">
      <div class="dashboard-box">
        <div class="dashboard-title-with-close">
          <div class="dashboard-title" id="daily-chart-detail-title">📈 날짜별 상세 분석</div>
          <span class="close-button" onclick="closeDailyChartDetail()">×</span>
        </div>
        
        <!-- 요약 정보 -->
        <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
          <div style="width: 22%;">
            <div class="dashboard-title" style="font-size: 0.9em;">🔎 활성 사용자</div>
            <div class="active-users" id="daily-detail-active-users" style="font-size: 2.5em;">0</div>
          </div>
          <div style="width: 74%;">
            <div class="dashboard-title" style="font-size: 0.9em;">🔢 전체 조회수</div>
            <div class="active-users" id="daily-detail-total-pageviews" style="font-size: 2.5em;">0</div>
          </div>
        </div>
      </div>
      
      <!-- 서브 탭 (일간 차트 상세) -->
      <div class="sub-tabs">
        <div class="sub-tab active" onclick="showSubTab('daily-detail', 'full')" data-i18n="subTabs.allTitles">📊 전체 제목</div>
        <div class="sub-tab" onclick="showSubTab('daily-detail', 'prefix1')" data-i18n="subTabs.prefix1">1️⃣ 접두어 (1단어)</div>
        <div class="sub-tab" onclick="showSubTab('daily-detail', 'prefix2')" data-i18n="subTabs.prefix2">2️⃣ 접두어 (2단어)</div>
        <div class="sub-tab" onclick="showSubTab('daily-detail', 'prefix3')" data-i18n="subTabs.prefix3">3️⃣ 접두어 (3단어)</div>
        <div class="sub-tab" onclick="showSubTab('daily-detail', 'category')" data-i18n="subTabs.byCategory">📑 카테고리별</div>
      </div>
      
      <!-- 전체 제목 테이블 (일간 차트 상세) -->
      <div id="daily-detail-full-content" class="sub-tab-content active">
        <div class="dashboard-box">
          <div style="display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 10px; padding-top: 3px;">
            <div class="dashboard-title" id="daily-detail-full-title">📈 페이지 제목별 조회수</div>
            <div class="category-filter-container" id="daily-detail-full-category-filter">
              <span class="category-label" data-i18n="labels.categorySelect">카테고리 선택:</span>
              <select class="category-dropdown" id="daily-detail-full-category-select" onchange="filterByCategoryInFullTab('daily-detail', this.value)">
                <option value="" data-i18n="labels.allCategories">전체 카테고리</option>
              </select>
            </div>
          </div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.pageTitle">페이지 제목</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="daily-detail-page-title-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 1단어 테이블 (일간 차트 상세) -->
      <div id="daily-detail-prefix1-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix1">🔤 접두어별 조회수 (1단어)</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.prefix">접두어</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="daily-detail-prefix1-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 2단어 테이블 (일간 차트 상세) -->
      <div id="daily-detail-prefix2-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix2">🔤 접두어별 조회수 (2단어)</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.prefix">접두어</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="daily-detail-prefix2-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 3단어 테이블 (일간 차트 상세) -->
      <div id="daily-detail-prefix3-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix3">🔤 접두어별 조회수 (3단어)</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.prefix">접두어</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="daily-detail-prefix3-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 카테고리별 테이블 (일간 차트 상세) -->
      <div id="daily-detail-category-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div id="sync-banner-daily-detail" class="sync-banner">🔄 아직 동기화된 카테고리 데이터가 없어요! 동기화 버튼을 눌러주세요!</div>
          <div class="dashboard-title">📑 카테고리별 조회수</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th>카테고리</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="daily-detail-category-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
    
    <!-- 로딩 인디케이터 (daily-chart-detail 밖으로 이동) -->
    <div id="daily-detail-loading" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 9999;">
      <div style="display: flex; align-items: center; justify-content: center; height: 100%;">
        <div style="text-align: center;">
          <div class="loading-spinner"></div>
          <div style="margin-top: 15px; color: #e0e0e0; font-size: 0.9em;" data-i18n="messages.loadingData">데이터를 불러오는 중...</div>
        </div>
      </div>
    </div>
    
    <!-- 시간대별 상세 데이터 (히트맵 클릭시 표시) -->
    <div id="hourly-detail" style="margin-top: 20px; display: none;">
      <div class="dashboard-box">
        <div class="dashboard-title-with-close">
          <div class="dashboard-title" id="hourly-detail-title">🕐 시간대별 상세 분석</div>
          <span class="close-button" onclick="closeHourlyDetail()">×</span>
        </div>
        
        <!-- 요약 정보 -->
        <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
          <div style="width: 22%;">
            <div class="dashboard-title" style="font-size: 0.9em;">🔎 활성 사용자</div>
            <div class="active-users" id="hourly-detail-active-users" style="font-size: 2.5em;">0</div>
          </div>
          <div style="width: 74%;">
            <div class="dashboard-title" style="font-size: 0.9em;">🔢 전체 조회수</div>
            <div class="active-users" id="hourly-detail-total-pageviews" style="font-size: 2.5em;">0</div>
          </div>
        </div>
      </div>
      
      <!-- 서브 탭 (시간대별 상세) -->
      <div class="sub-tabs">
        <div class="sub-tab active" onclick="showSubTab('hourly-detail', 'full')" data-i18n="subTabs.allTitles">📊 전체 제목</div>
        <div class="sub-tab" onclick="showSubTab('hourly-detail', 'prefix1')" data-i18n="subTabs.prefix1">1️⃣ 접두어 (1단어)</div>
        <div class="sub-tab" onclick="showSubTab('hourly-detail', 'prefix2')" data-i18n="subTabs.prefix2">2️⃣ 접두어 (2단어)</div>
        <div class="sub-tab" onclick="showSubTab('hourly-detail', 'prefix3')" data-i18n="subTabs.prefix3">3️⃣ 접두어 (3단어)</div>
        <div class="sub-tab" onclick="showSubTab('hourly-detail', 'category')" data-i18n="subTabs.byCategory">📑 카테고리별</div>
      </div>
      
      <!-- 전체 제목 테이블 (시간대별 상세) -->
      <div id="hourly-detail-full-content" class="sub-tab-content active">
        <div class="dashboard-box">
          <div style="display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 10px; padding-top: 3px;">
            <div class="dashboard-title" id="hourly-detail-full-title">📈 페이지 제목별 조회수</div>
            <div class="category-filter-container" id="hourly-detail-full-category-filter">
              <span class="category-label" data-i18n="labels.categorySelect">카테고리 선택:</span>
              <select class="category-dropdown" id="hourly-detail-full-category-select" onchange="filterByCategoryInFullTab('hourly-detail', this.value)">
                <option value="" data-i18n="labels.allCategories">전체 카테고리</option>
              </select>
            </div>
          </div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.pageTitle">페이지 제목</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="hourly-detail-page-title-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 1단어 테이블 (시간대별 상세) -->
      <div id="hourly-detail-prefix1-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix1">🔤 접두어별 조회수 (1단어)</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.prefix">접두어</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="hourly-detail-prefix1-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 2단어 테이블 (시간대별 상세) -->
      <div id="hourly-detail-prefix2-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix2">🔤 접두어별 조회수 (2단어)</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.prefix">접두어</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="hourly-detail-prefix2-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 3단어 테이블 (시간대별 상세) -->
      <div id="hourly-detail-prefix3-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix3">🔤 접두어별 조회수 (3단어)</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.prefix">접두어</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="hourly-detail-prefix3-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 카테고리별 테이블 (시간대별 상세) -->
      <div id="hourly-detail-category-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div id="sync-banner-hourly-detail" class="sync-banner">🔄 아직 동기화된 카테고리 데이터가 없어요! 동기화 버튼을 눌러주세요!</div>
          <div class="dashboard-title">📑 카테고리별 조회수</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th>카테고리</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="hourly-detail-category-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
    
    <!-- 로딩 인디케이터 (hourly-detail 밖으로 이동) -->
    <div id="hourly-detail-loading" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 9999;">
      <div style="display: flex; align-items: center; justify-content: center; height: 100%;">
        <div style="text-align: center;">
          <div class="loading-spinner"></div>
          <div style="margin-top: 15px; color: #e0e0e0; font-size: 0.9em;" data-i18n="messages.loadingData">데이터를 불러오는 중...</div>
        </div>
      </div>
    </div>
    
    <!-- 도메인별 상세 데이터 (도메인 클릭시 표시) -->
    <div id="source-detail" style="margin-top: 20px; display: none;">
      <div class="dashboard-box">
        <div class="dashboard-title-with-close">
          <div class="dashboard-title" id="source-detail-title">📊 도메인별 상세 분석</div>
          <span class="close-button" onclick="closeSourceDetail()">×</span>
        </div>
        
        <!-- 요약 정보 -->
        <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
          <div style="width: 22%;">
            <div class="dashboard-title" style="font-size: 0.9em;">🔎 활성 사용자</div>
            <div class="active-users" id="source-detail-active-users" style="font-size: 2.5em;">0</div>
          </div>
          <div style="width: 74%;">
            <div class="dashboard-title" style="font-size: 0.9em;">🔢 전체 조회수</div>
            <div class="active-users" id="source-detail-total-pageviews" style="font-size: 2.5em;">0</div>
          </div>
        </div>
      </div>
      
      <!-- 서브 탭 (도메인별 상세) -->
      <div class="sub-tabs">
        <div class="sub-tab active" onclick="showSubTab('source-detail', 'full')" data-i18n="subTabs.allTitles">📊 전체 제목</div>
        <div class="sub-tab" onclick="showSubTab('source-detail', 'prefix1')" data-i18n="subTabs.prefix1">1️⃣ 접두어 (1단어)</div>
        <div class="sub-tab" onclick="showSubTab('source-detail', 'prefix2')" data-i18n="subTabs.prefix2">2️⃣ 접두어 (2단어)</div>
        <div class="sub-tab" onclick="showSubTab('source-detail', 'prefix3')" data-i18n="subTabs.prefix3">3️⃣ 접두어 (3단어)</div>
        <div class="sub-tab" onclick="showSubTab('source-detail', 'category')" data-i18n="subTabs.byCategory">📑 카테고리별</div>
      </div>
      
      <!-- 전체 제목 테이블 (도메인별 상세) -->
      <div id="source-detail-full-content" class="sub-tab-content active">
        <div class="dashboard-box">
          <div style="display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 10px; padding-top: 3px;">
            <div class="dashboard-title" id="source-detail-full-title">📈 페이지 제목별 조회수</div>
            <div class="category-filter-container" id="source-detail-full-category-filter">
              <span class="category-label" data-i18n="labels.categorySelect">카테고리 선택:</span>
              <select class="category-dropdown" id="source-detail-full-category-select" onchange="filterByCategoryInFullTab('source-detail', this.value)">
                <option value="" data-i18n="labels.allCategories">전체 카테고리</option>
              </select>
            </div>
          </div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.pageTitle">페이지 제목</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="source-detail-page-title-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 1단어 테이블 (도메인별 상세) -->
      <div id="source-detail-prefix1-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix1">🔤 접두어별 조회수 (1단어)</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.prefix">접두어</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="source-detail-prefix1-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 2단어 테이블 (도메인별 상세) -->
      <div id="source-detail-prefix2-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix2">🔤 접두어별 조회수 (2단어)</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.prefix">접두어</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="source-detail-prefix2-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 접두어 3단어 테이블 (도메인별 상세) -->
      <div id="source-detail-prefix3-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.pageviewsByPrefix3">🔤 접두어별 조회수 (3단어)</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.prefix">접두어</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="source-detail-prefix3-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 카테고리별 테이블 (도메인별 상세) -->
      <div id="source-detail-category-content" class="sub-tab-content">
        <div class="dashboard-box">
          <div id="sync-banner-source-detail" class="sync-banner">🔄 아직 동기화된 카테고리 데이터가 없어요! 동기화 버튼을 눌러주세요!</div>
          <div class="dashboard-title">📑 카테고리별 조회수</div>
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th>카테고리</th>
              <th data-i18n="tableHeaders.views">조회수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="source-detail-category-views">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 로딩 인디케이터 (source-detail 밖으로 이동) -->
<div id="source-detail-loading" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 9999;">
  <div style="display: flex; align-items: center; justify-content: center; height: 100%;">
    <div style="text-align: center;">
      <div class="loading-spinner"></div>
      <div style="margin-top: 15px; color: #e0e0e0; font-size: 0.9em;" data-i18n="messages.loadingData">데이터를 불러오는 중...</div>
    </div>
  </div>
</div>

  <!-- 백링크 체크 탭 컨텐츠 -->
  <div id="backlink-check-content" class="tab-content">
    <div class="dashboard-box">
      <div class="dashboard-title" data-i18n="dashboardTitles.backlinkCheck">🔗 백링크</div>
      <div style="font-size: 0.9em; color: #666; margin-top: 5px; margin-bottom: 20px;">
        <span data-i18n="messages.backlinkDesc">📌 어느 사이트에서 우리 사이트로 유입되었는지 확인해보세요! 외부 참조 트래픽을 분석합니다.</span>
      </div>
      <!-- 날짜 선택 영역 -->
      <div class="date-selector">
        <input type="date" id="backlink-start-date" onchange="validateBacklinkDates()" placeholder="YYYY-MM-DD">
        <span>~</span>
        <input type="date" id="backlink-end-date" onchange="validateBacklinkDates()" placeholder="YYYY-MM-DD">
        <button onclick="fetchBacklinkData()" class="fetch-btn">🔍 <span data-i18n="buttons.fetch">조회하기</span></button>
      </div>
      
      <!-- 빠른 날짜 선택 버튼 -->
      <div style="margin-top: 10px; margin-bottom: 15px;">
        <span class="quick-date-label" data-i18n="labels.quickSelect">빠른 선택:</span>
        <div class="quick-date-buttons" style="display: inline-flex; margin-left: 10px;">
          <button class="quick-date-btn" onclick="setBacklinkDateRange(1)" data-i18n="quickDates.today">오늘</button>
          <button class="quick-date-btn" onclick="setBacklinkDateRange(3)" data-i18n="quickDates.days3">3일</button>
          <button class="quick-date-btn" onclick="setBacklinkDateRange(7)" data-i18n="quickDates.days7">7일</button>
          <button class="quick-date-btn" onclick="setBacklinkDateRange(14)" data-i18n="quickDates.weeks2">2주</button>
          <button class="quick-date-btn" onclick="setBacklinkDateRange(30)" data-i18n="quickDates.month1">한달</button>
        </div>
        <div style="display: inline-flex; align-items: center; margin-left: 20px;">
          <input type="checkbox" id="backlink-exclude-today" style="margin-right: 5px;">
          <label for="backlink-exclude-today" style="font-size: 0.85em; color: #666; cursor: pointer;" data-i18n="labels.excludeToday">
            📅 전일 기준 (오늘 제외)
          </label>
        </div>
      </div>
      
      <div class="update-time" id="backlink-update-time"><span data-i18n="labels.lastUpdate">마지막 업데이트</span>: -</div>
    </div>
    
    <!-- 초기 메시지 (조회 전) -->
      <div id="backlink-initial-message" class="dashboard-box" style="padding: 80px 20px; text-align: center;">
        <div style="font-size: 4em; margin-bottom: 20px;">🔗</div>
        <div style="font-size: 1.2em; color: #666;" data-i18n="messages.selectDateRange">날짜를 선택하고 조회하기 버튼을 클릭해주세요!</div>
      </div>
      
      <!-- 로딩 인디케이터 -->
      <div id="backlink-loading" class="dashboard-box" style="display: none; padding: 80px 20px; text-align: center;">
        <div class="loading-spinner" style="margin: 0 auto;"></div>
        <div style="margin-top: 20px; font-size: 1.1em; color: #666;" data-i18n="messages.loadingData">데이터를 불러오는 중...</div>
      </div>
      
      <!-- 데이터 컨텐츠 영역 (조회 후 표시) -->
      <div id="backlink-data-container" style="display: none;">
        <!-- 백링크 누적합 차트 -->
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.backlinkSummary">📈 백링크 상위 10개 누적합</div>
          <div style="display: flex; gap: 20px; align-items: stretch;">
            <div style="flex: 1;">
              <canvas id="backlink-chart" style="max-height: 300px;"></canvas>
            </div>
            <div style="flex: 1;">
              <table id="backlink-summary-table">
                <thead>
                  <tr>
                    <th data-i18n="tableHeaders.rank">순번</th>
                    <th data-i18n="tableHeaders.sourceSite">출처 사이트</th>
                    <th data-i18n="tableHeaders.sessions">세션수</th>
                    <th data-i18n="tableHeaders.ratio">비율</th>
                  </tr>
                </thead>
                <tbody id="backlink-summary-tbody">
                  <!-- 상위 10개 데이터가 여기에 들어감 -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <!-- 백링크 상세 분석 -->
        <div class="dashboard-box">
          <div class="dashboard-title" data-i18n="sectionTitles.backlinkAnalysis">📊 백링크 분석 (외부 유입)</div>
          
          <!-- 도메인 필터 영역 -->
          <div class="category-container" style="margin-top: 15px; margin-bottom: 15px;">
            <label style="font-weight: 600; color: #b794f6; margin-right: 10px;" data-i18n="labels.domainFilter">🌐 도메인 선택:</label>
            <select id="backlink-domain-filter" class="category-dropdown" onchange="filterBacklinkByDomain()">
              <option value="" data-i18n="filters.allDomains">전체 도메인</option>
            </select>
          </div>
          
          <table>
            <thead>
            <tr>
              <th data-i18n="tableHeaders.rank">순번</th>
              <th data-i18n="tableHeaders.sourceSite">출처 사이트</th>
              <th data-i18n="tableHeaders.landingPage">랜딩 페이지</th>
              <th data-i18n="tableHeaders.sessions">세션수</th>
              <th data-i18n="tableHeaders.ratio">비율</th>
            </tr>
            </thead>
            <tbody id="backlink-table">
            <!-- 여기에 데이터가 동적으로 삽입됩니다 -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- 리포트 발송 탭 컨텐츠 -->
  <div id="report-send-content" class="tab-content">
    <div class="dashboard-box">
      <div class="dashboard-title" data-i18n="dashboardTitles.reportSend">📧 Search Insights 리포트 발송</div>
      <div style="font-size: 0.9em; color: #666; margin-top: 5px; margin-bottom: 20px;">
        <span data-i18n="messages.reportSendDesc">📌 원하는 기간의 Search Insights 리포트를 이메일로 발송해보세요! Excel 파일로 상세한 분석 데이터를 받아보실 수 있어요.</span>
        <br>
        <span style="color: #e74c3c; margin-top: 5px; display: inline-block;" data-i18n="messages.searchConsoleDelay">⚠️ 구글 Search Console 데이터는 최대 3일의 지연이 있습니다. (오늘 날짜 기준 3일 전까지의 데이터만 사용 가능)</span>
      </div>
      
      <!-- 리포트 기간 선택 영역 -->
      <div class="report-period-selector">
        <div class="report-period-box">
          <div class="period-icon">📅</div>
          <div class="period-content">
            <div class="period-label" data-i18n="labels.reportPeriod">리포트 기간 선택</div>
            <div class="date-selector" style="margin-top: 10px;">
              <input type="date" id="report-start-date" onchange="validateReportDates()" placeholder="YYYY-MM-DD">
              <span>~</span>
              <input type="date" id="report-end-date" onchange="validateReportDates()" placeholder="YYYY-MM-DD">
            </div>
          </div>
        </div>
        
      </div>
      
      <!-- 리포트 미리보기 -->
      <div class="report-preview-box" style="margin-top: 25px;">
        <div class="preview-header">
          <span class="preview-title" data-i18n="sectionTitles.reportContents">📋 리포트 포함 내용</span>
        </div>
        <div class="preview-content">
          <div class="preview-item">
            <span class="preview-icon">📊</span>
            <span class="preview-text" data-i18n="reportContents.searchAnalytics">검색 성과 분석 (쿼리별, 페이지별, 기기별)</span>
          </div>
          <div class="preview-item">
            <span class="preview-icon">🔤</span>
            <span class="preview-text" data-i18n="reportContents.prefixAnalysis">접두어 분석 (1~3단어)</span>
          </div>
          <div class="preview-item">
            <span class="preview-icon">📈</span>
            <span class="preview-text" data-i18n="reportContents.pageViewAnalysis">페이지뷰 분석 (제목별, 경로별)</span>
          </div>
          <div class="preview-item">
            <span class="preview-icon">🔗</span>
            <span class="preview-text" data-i18n="reportContents.backlinks">백링크 분석</span>
          </div>
          <div class="preview-item">
            <span class="preview-icon">📅</span>
            <span class="preview-text" data-i18n="reportContents.dailyTrends">일간 추이 분석</span>
          </div>
        </div>
      </div>
      
      <!-- 수신자 정보 -->
      <div class="recipient-info-box" style="margin-top: 25px;">
        <div class="recipient-header">
          <span class="recipient-title" data-i18n="sectionTitles.recipientInfo">📬 수신자 정보</span>
        </div>
        <div class="recipient-content">
          <div class="recipient-item">
            <span class="recipient-icon">✉️</span>
            <span class="recipient-label" data-i18n="labels.recipient">수신자:</span>
            <span class="recipient-email" id="recipient-email">loading...</span>
          </div>
          <div class="recipient-note">
            <span class="note-icon">💡</span>
            <span class="note-text" data-i18n="messages.recipientNote">application.properties에 설정된 이메일 주소로 발송됩니다.</span>
          </div>
        </div>
      </div>
      
      <!-- 발송 버튼 영역 -->
      <div class="send-button-area" style="margin-top: 30px; text-align: center;">
        <button id="send-report-btn" class="send-report-button" onclick="sendReport()">
          <span class="button-icon">🚀</span>
          <span class="button-text" data-i18n="buttons.sendReport">리포트 발송하기</span>
        </button>
      </div>
      
      <!-- 발송 상태 표시 영역 -->
      <div id="report-status" style="display: none; margin-top: 20px;">
        <!-- 로딩 상태 -->
        <div id="report-loading" class="status-box loading-status" style="display: none;">
          <div class="loading-spinner"></div>
          <div class="status-text" data-i18n="messages.reportSending">리포트를 생성하고 발송 중입니다...</div>
        </div>
        
        <!-- 성공 상태 -->
        <div id="report-success" class="status-box success-status" style="display: none;">
          <div class="status-icon">✅</div>
          <div class="status-text" data-i18n="messages.reportSent">리포트가 성공적으로 발송되었습니다!</div>
          <div class="status-detail" id="report-success-detail"></div>
        </div>
        
        <!-- 실패 상태 -->
        <div id="report-error" class="status-box error-status" style="display: none;">
          <div class="status-icon">❌</div>
          <div class="status-text" data-i18n="messages.reportFailed">리포트 발송에 실패했습니다.</div>
          <div class="status-detail" id="report-error-detail"></div>
        </div>
      </div>
    </div>
  </div>


<!-- Chart.js 라이브러리 추가 -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

<!-- JavaScript 파일들 (defer로 비동기 로딩 및 순서 보장) -->
<script th:src="@{/js/dashboard-i18n.js}" defer></script>
<script th:src="@{/js/dashboard-core.js}" defer></script>
<script th:src="@{/js/dashboard-tabs.js}" defer></script>
<script th:src="@{/js/dashboard-data-fetcher.js}" defer></script>
<script th:src="@{/js/dashboard-table-renderer.js}" defer></script>
<script th:src="@{/js/dashboard-category-sync.js}" defer></script>
<script th:src="@{/js/dashboard-daily-chart.js}" defer></script>
<script th:src="@{/js/dashboard-heatmap.js}" defer></script>
<script th:src="@{/js/dashboard-traffic-source.js}" defer></script>
<script th:src="@{/js/dashboard-backlink.js}" defer></script>

</body>
</html>
